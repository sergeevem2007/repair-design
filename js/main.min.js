$(document).ready(function(){var e=$(".modal"),r=$(".modal__dialog"),i=$("[data-toggle=modal]"),a=$(".modal__close");i.on("click",function(){e.toggleClass("modal--visible")}),a.on("click",function(){e.toggleClass("modal--visible")}),e.mouseup(function(i){r.is(i.target)||0!==r.has(i.target).length||e.toggleClass("modal--visible")});new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var n=$(".swiper-button-next"),o=$(".swiper-button-prev"),l=$(".swiper-pagination");function t(e){e.target.playVideo()}n.css("left",o.width()+10+l.width()+10),l.css("left",o.width()+10),(new WOW).init(),$(".nav").on("click","a",function(e){e.preventDefault();var r=$(this).attr("href"),i=$(r).offset().top;$("body,html").animate({scrollTop:i},1500)}),$(".modal__form").validate({errorElement:"div",errorClass:"invalid",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:"required",userEmail:{required:!0,email:!0},userQuestion:{required:!0,minlength:2}},messages:{userName:{required:"Заполните поле имя",minlength:"Имя не короче двух букв",maxlength:"Имя не длиннее пятнадцати букв"},userPhone:"Заполните поле телефон",userEmail:{required:"Заполните поле email",email:"Введите в формате name@domain.com"},userQuestion:{required:"Заплните поле вопрос",minlength:"Вопрос не короче двух букв"}},submitHandler:function(r){$.ajax({type:"POST",url:"mail.php",data:$(r).serialize(),success:function(i){return $(r)[0].reset(),e.toggleClass("modal--visible"),ym(61266316,"reachGoal","submitForm"),!0}})}}),$(".footer__form").validate({errorElement:"div",errorClass:"invalid",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:"required",userEmail:{required:!0,email:!0},userQuestion:{required:!0,minlength:2}},messages:{userName:{required:"Заполните поле имя",minlength:"Имя не короче двух букв",maxlength:"Имя не длиннее пятнадцати букв"},userPhone:"Заполните поле телефон",userEmail:{required:"Заполните поле email",email:"Введите в формате name@domain.com"},userQuestion:{required:"Заплните поле вопрос",minlength:"Вопрос не короче двух букв"}},submitHandler:function(e){$.ajax({type:"POST",url:"mail.php",data:$(e).serialize(),success:function(r){return $(e)[0].reset(),ym(61266316,"reachGoal","submitForm"),!0}})}}),$(".control__form").validate({errorElement:"div",errorClass:"invalid",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:"required",userEmail:{required:!0,email:!0},userQuestion:{required:!0,minlength:2}},messages:{userName:{required:"Заполните поле имя",minlength:"Имя не короче двух букв",maxlength:"Имя не длиннее пятнадцати букв"},userPhone:"Заполните поле телефон",userEmail:{required:"Заполните поле email",email:"Введите в формате name@domain.com"},userQuestion:{required:"Заплните поле вопрос",minlength:"Вопрос не короче двух букв"}},submitHandler:function(e){$.ajax({type:"POST",url:"mail.php",data:$(e).serialize(),success:function(r){return $(e)[0].reset(),ym(61266316,"reachGoal","submitForm"),!0}})}}),$("[type=tel]").mask("+7(000)000-00-00",{placeholder:"+7 (___) ___-__-__"}),$(".video__play").on("click",function(){new YT.Player("player",{height:"465",width:"100%",videoId:"Y8Q9ptCXzL0",events:{onReady:t}})}),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[47.244729,39.723187],zoom:17},{searchControlProvider:"yandex#search"}),r=(ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),new ymaps.Placemark(e.getCenter(),{hintContent:"Собственный значок метки",balloonContent:"Это красивая метка"},{iconLayout:"default#image",iconImageHref:"img/marker.png",iconImageSize:[64,64],iconImageOffset:[-5,-38]}));e.geoObjects.add(r),e.behaviors.disable("scrollZoom")})}),$(this).keydown(function(e){27==e.which&&$(".modal").removeClass("modal--visible")});var scrollTop=$(".scroll-top");$(window).scroll(function(){$(window).scrollTop()>300?scrollTop.addClass("show"):scrollTop.removeClass("show")}),scrollTop.on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"1500")});